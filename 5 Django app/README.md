# English Football League Analysis

A Django web application for analyzing English Premier League data with interactive visualizations powered by Bokeh. The system also has an AI-powered club analysis feature.

Note: a large fraction of thbis project was generated by AI using Cursor.

You can read more about how this app was developed on my blog:
* https://blog.engora.com/2025/11/how-to-rapidly-build-and-deploy-data.html

## Commentary on app

### Response times

The app is a little slow to update some pages, especially when there's a lot of data. I'm running some tests to find out causes and diagnosis.

### AI response

The app includes some AI generated content (club and season analysis). This can take 30 seconds or more to update. At the time of writing, I'm using the free tier of Gemini and my prompt is quite complex. I tried parellizing my query, but I ran into free tier limitations. I tried simplifying my query, but that gave worse results. For now, there's not much I can do to speed things up.

## Features

- **Trends Analysis**: Interactive charts showing trends over time
- **Goals Analysis**: Factors that influence goal scoring
- **Club Analysis**: See how clubs have performed over time.
- **User Management**: Admin panel for user management
- **Authentication**: Secure login/logout with role-based access
- **Interactive Visualizations**: Powered by Bokeh for rich data exploration

## Requirements

- Python 3.13.4
- Django 5.2.8
- PostgreSQL database
- Bokeh 3.3.0
- Bootstrap 5

## Installation

1. **Clone the repository**:
   ```bash
   git clone <repository-url>
   cd "5 Django app"
   ```

2. **Create a virtual environment**:
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install dependencies**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Set up environment variables**:
   ```bash
   cp env.example .env
   # Edit .env with your database credentials
   ```

5. **Set up the database**:
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

6. **Create initial users**:
   ```bash
   python manage.py create_users
   ```

7. **Run the development server**:
   ```bash
   python manage.py runserver
   ```

## Environment Variables

Create a `.env` file with the following variables:

```env
SECRET_KEY=your-secret-key-here
DEBUG=True
FOOTBALL_HOST=localhost
FOOTBALL_PORT=5432
FOOTBALL_USER=your-db-username
FOOTBALL_PASSWORD=your-db-password
```

## Application Structure

### Apps

- **about**: Main landing page and application description
- **trends**: Interactive trend analysis with Bokeh charts
- **goals**: Goal scoring factor analysis
- **admin_app**: User management and admin functionality

### Key Features

- **Custom User Model**: Extended Django user model with admin flag
- **Bokeh Integration**: Interactive charts for data visualization
- **Bootstrap Styling**: Responsive design with green color scheme
- **Crispy Forms**: Enhanced form rendering
- **Role-based Access**: Different permissions for admin and regular users

## Usage

1. **Access the application**: Navigate to `http://localhost:8000`
2. **Login**: Use the provided credentials to access features
3. **Explore Trends**: View interactive charts showing league trends
4. **Analyze Goals**: Examine factors influencing goal scoring
5. **Manage Users** (Admin only): Add, edit, or delete users

## Database Connection

The application connects to an existing PostgreSQL database named "Football" using the credentials specified in your environment variables. Make sure your database is accessible and contains the required tables.

## Development

### Running Tests
```bash
python manage.py test
```

### Creating Migrations
```bash
python manage.py makemigrations
python manage.py migrate
```

### Creating Superuser
```bash
python manage.py createsuperuser
```

## Styling

The application uses a green color scheme as specified:
- Primary green: #2E8B57
- Light green: #90EE90
- Very light green: #98FB98
- All text is black and minimum 12pt font size

## License

This project is for educational and analytical purposes.

